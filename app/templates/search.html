<!--
Jayden Zhang, Margie Cao, Danny Huang, Suhana Kumar
H1N1
SoftDev
P02 - Instabook
Time Spent: 48 hours
Target Ship Date: 2025-01-17
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instabook</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instabook</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="../static/js/instabook.js"></script>
</head>

<body class="bg-black text-white font-sans">
    <div class="flex flex-row h-screen">
        <nav class="w-1/8 min-w-[240px] flex flex-col p-5 bg-gray-900 h-screen">
            <h1 class="text-white text-3xl font-bold mb-8">Instabook</h1>
            <ul class="space-y-6">
                <li class="flex items-center space-x-4 p-2">
                    <span class="text-xl">üè†</span>
                    <a href="/" class="text-lg">Home</a>
                </li>
                <li class="flex items-center space-x-4 p-3 bg-sky-400">
                    <span class="text-xl">üîç</span>
                    <a href="/search" class="text-lg text-white">Search</a>
                </li>
                <li class="flex items-center space-x-4 p-2">
                    <span class="text-xl">üé•</span>
                    <a href="/reels" class="text-lg">Reels</a>
                </li>
                <li class="flex items-center space-x-4 p-2">
                    <span class="text-xl">‚úâÔ∏è</span>
                    <a href="/messages" class="text-lg">Messages</a>
                </li>
                <li class="flex items-center space-x-4 p-2">
                    <img src="{{ url_for('static', filename='images/default.svg') }}" class="size-5" alt="Profile" />
                    <a href="/profile/{{ session['username'] }}/edit" class="text-lg">Profile</a>
                </li>
                <li class="flex items-center space-x-4">
                    <form action="/logout" method="post">
                        <input type="submit" value="Log Out" name="logOut"
                            class="text-lg text-white bg-transparent border-none cursor-pointer hover:bg-sky-300 hover:border-sky-500 rounded-xl px-4 py-2" />
                    </form>
                </li>
            </ul>
        </nav>
        <div class="flex-1 bg-gray-800 p-5">
            <div class="flex items-center justify-between mb-6">
                <input id="search" type="text" placeholder="Search for friends!" class="bg-gray-700 text-white p-2 rounded-md w-1/2">
            </div>

            <ul id="profileList" class="space-y-4">
                {% for user in users %}
                <li class="flex items-center space-x-4 bg-gray-700 p-2 rounded-md">
                    <img src="{{ user.profilePic }}" alt="{{ user.name }}" class="w-10 h-10 rounded-full">
                    <a href="{{ user.profileUrl }}" class="text-white text-lg">{{ user.name }}</a>
                </li>
                {% endfor %}  
            </ul>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
        const searchInput = document.getElementById('search');
        const profileList = document.getElementById('profileList');
        const plist = profileList.getElementsByTagName('li');
        let filterPeople = function(){
            const searchTerm = searchInput.value.toLowerCase();
            Array.from(plist).forEach(person => {
                const personName = person.textContent.toLowerCase();
                if (personName.includes(searchTerm)) {
                    person.style.display = '';
                } else {
                    person.style.display = 'none';
                }
            });
        }
        
        searchInput.addEventListener('input', filterPeople);

        let showContactList = function(){
            const list = document.getElementById('Contact');
            list.style.display='';
        }
        });





        </script>
</body>

</html>
